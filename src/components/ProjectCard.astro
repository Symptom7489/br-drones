---
// 1. Accept the project object from the parent page (index or portfolio)
const { project } = Astro.props;
---

<a
    href={`/portfolio/${project.slug}`}
    class="group relative block bg-slate-900 border border-white/5 rounded-[2rem] overflow-hidden hover:border-orange-500/50 transition-all duration-500 shadow-xl"
>
    <div class="relative aspect-video overflow-hidden">
        <img
            src={project.data.thumbnail}
            alt={project.data.title}
            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-80 group-hover:opacity-100"
        />

        <div class="absolute top-4 right-4">
            <span
                class="px-3 py-1 bg-black/70 backdrop-blur-md text-[10px] text-orange-500 font-mono font-black border border-orange-500/30 rounded-full uppercase tracking-widest"
            >
                {project.data.industry}
            </span>
        </div>

        <div class="absolute bottom-4 left-4 flex gap-2">
            {
                project.data.videoID && (
                    <div
                        class="bg-black/60 backdrop-blur-md p-1.5 rounded-lg border border-white/20"
                        title="Video Briefing Available"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="w-4 h-4 text-white"
                            fill="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path d="M8 5v14l11-7z" />
                        </svg>
                    </div>
                )
            }
            {
                project.data.pdfUrl && (
                    <div
                        class="bg-black/60 backdrop-blur-md p-1.5 rounded-lg border border-white/20"
                        title="PDF Report Included"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="w-4 h-4 text-red-500"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
                            />
                        </svg>
                    </div>
                )
            }
        </div>
    </div>

    <div class="p-8">
        <div class="flex justify-between items-start mb-6">
            <h3
                class="text-2xl font-black text-white italic group-hover:text-orange-500 transition-colors uppercase leading-tight"
            >
                {project.data.title}
            </h3>
        </div>

        <div class="grid grid-cols-2 gap-6 pt-6 border-t border-white/5">
            <div>
                <p
                    class="text-[10px] text-slate-500 uppercase font-black tracking-[0.2em] mb-1"
                >
                    Client
                </p>
                <p class="text-sm text-slate-300 font-bold">
                    {project.data.client}
                </p>
            </div>
            <div>
                <p
                    class="text-[10px] text-slate-500 uppercase font-black tracking-[0.2em] mb-1"
                >
                    Precision
                </p>
                <p
                    class="text-sm text-orange-500 font-mono font-bold tracking-tight"
                >
                    {project.data.accuracy || "Verified"}
                </p>
            </div>
        </div>

        <div
            class="mt-6 flex items-center gap-2 text-[10px] font-black text-white uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"
        >
            View Full Mission Log <span class="text-orange-500">â†’</span>
        </div>
    </div>
</a>
